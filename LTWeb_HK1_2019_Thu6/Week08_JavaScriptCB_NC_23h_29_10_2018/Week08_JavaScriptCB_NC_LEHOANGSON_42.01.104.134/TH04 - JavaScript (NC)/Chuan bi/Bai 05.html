<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>Bài tập JavaScript (NC) - Bài 3.05 - Tính tiền thực đơn</title>
  <style type="text/css">
  .tinhtien table{
    width:100%;
    margin: auto;
  }
  .tinhtien tr,td,th,table{
    border:1px solid black;
    border-collapse:collapse;
  }
  #tong{
    width: 40%;
    margin: auto;
  }
</style>
</head>

<body style = "font-family:Tahoma, Geneva, sans-serif">
  <h2 align="center" style = "color:#CC0000">Thực đơn ăn sáng</h2>
  <form id = "nhap">
    <table align = "center" width = "460"  border = "1"  style="border-collapse:collapse; color:#330099" bordercolor="#330099" cellpadding="5">
      <tr align="center" style = "font-weight:bold"><td>Thức ăn</td><td>Nước giải khát</td><td width="130">Dịch vụ khác</td></tr>

      <tr>
        <td align="center">
          <select id = "thucAn" multiple= "multiple" size = "9"><!--multiple: được phép chọn nhiều, không có thanh lăn-->
           <option value = "15000">Phở bò</option>
           <option value = "10000"  selected="selected">Cơm tấm</option>
           <option value = "16000">Hủ tíếu Nam vang</option>
           <option value = "8000">Bánh mì ốp la</option>
           <option value = "12000">Hủ tiếu bò kho</option>
           <option value = "10000">Bánh mì bò kho</option>
           <option value = "14000">Cháo lòng</option>
           <option value = "18000">Bún bò huế</option>
           <option value = "8000">Bánh cuốn</option>
         </select>
       </td>
       <td align="center">
        <select id = "giaiKhat" multiple= "multiple" size = "9">
          <option value = "5000" selected = "selected">Cà phê đá</option>
          <option value = "6000">Cà phê sữa đá</option>
          <option value = "4000">Nước ngọt các loại</option>
          <option value = "3000">Cà phê đen</option>
          <option value = "1000">Trà đá</option>
          <option value = "8000">Chanh dây</option>
          <option value = "12000">Cam tươi</option>
          <option value = "6000">Sữa tươi</option>
          <option value = "5000">Xí muội</option>
        </select>
      </td>
      <td valign="top">
       Khăn lạnh <input type="checkbox" value="khan" id = "khan"><br>
       Phòng lạnh <input type="checkbox" value="phong" id = "phong">    
     </td>
   </tr>

   <tr>
    <td colspan="3"><div id = "tongTien" style="color:#CC0000"> Hóa đơn tính tiền</div></td>
  </tr>
  <tr>
    <td colspan="3" align="center"><input type = "button" id ="tt" style = " background-color:#CC0000; font-weight:bold; color: white" value = "In hóa đơn tính tiền" onclick="tongTien.innerHTML=tinhTien()" ></td>
  </tr>
</table>
</form>
</body>
</html>

<script type="text/javascript">
  function tinhTien(){
    var html="<div id='tong'><table><th colspan='3' style='color:red;'>Hóa đơn tính tiền</th>"

    var foods=document.getElementById('thucAn');
    var drinks=document.getElementById('giaiKhat');
    var towel=document.getElementById('khan');
    var room=document.getElementById('phong');

    var soLuong=1;
    var tongTien=0;

    for(var i=0;i< foods.options.length;i++){
      if(foods.options[i].selected){
        html+="<tr><td>"+soLuong+"</td><td>"+foods.options[i].text+"</td><td>"+ foods.options[i].value+"</tr>";
        tongTien+=Number(foods.options[i].value);
        soLuong++;
      }
    }

    for(var i=0;i< drinks.options.length;i++){
      if(drinks.options[i].selected){
        html+="<tr><td>"+soLuong+"</td><td>"+drinks.options[i].text+"</td><td>"+ drinks.options[i].value+"</tr>";
        tongTien+=Number(drinks.options[i].value);
        soLuong++;
      }
      
    }

    if(towel.checked){
      html+="<tr><td>"+soLuong+"</td><td>"+"Khăn"+"</td><td>"+ "1000"+"</td></tr>";
      tongTien+=1000;
      soLuong++;
    }

    if(room.checked){
      html+="<tr><td>"+soLuong+"</td><td>"+"Phòng"+"</td><td>"+ "10000" +"</td></tr>";
      tongTien+=10000;
      soLuong++;
    }

    html+="<tr><td></td><td style='font-weight:bold;color:red'>Tổng cộng</td><td>"+tongTien+"</td></tr>";
    html+="</table></div>"
    return html;
  }
</script>